(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e,n,t){e.exports=t(43)},18:function(e,n,t){},37:function(e,n,t){},39:function(e,n,t){},41:function(e,n,t){},43:function(e,n,t){"use strict";t.r(n);var a=t(0),i=t.n(a),o=t(9),r=t.n(o),s=t(3),c=t(4),l=t(6),d=t(5),u=t(7),p=t(2),m=(t(18),t(12)),f=[{featureType:"water",stylers:[{saturation:43},{lightness:-11},{hue:"#0088ff"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{hue:"#ff0000"},{saturation:-100},{lightness:99}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{color:"#808080"},{lightness:54}]},{featureType:"landscape.man_made",elementType:"geometry.fill",stylers:[{color:"#ece2d9"}]},{featureType:"poi.park",elementType:"geometry.fill",stylers:[{color:"#ccdca1"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#767676"}]},{featureType:"road",elementType:"labels.text.stroke",stylers:[{color:"#ffffff"}]},{featureType:"poi",stylers:[{visibility:"off"}]},{featureType:"landscape.natural",elementType:"geometry.fill",stylers:[{visibility:"on"},{color:"#b8cb93"}]},{featureType:"poi.park",stylers:[{visibility:"on"}]},{featureType:"poi.sports_complex",stylers:[{visibility:"on"}]},{featureType:"poi.medical",stylers:[{visibility:"on"}]},{featureType:"poi.business",stylers:[{visibility:"simplified"}]}],h={bmBurgerButton:{position:"fixed",width:"36px",height:"30px",left:"36px",top:"64px"},bmBurgerBars:{background:"#373a47"},bmCrossButton:{height:"24px",width:"24px",right:"-2px"},bmCross:{background:"#bdc3c7"},bmMenu:{background:"#373a47",fontSize:"1.1em"},bmMorphShape:{fill:"#373a47"},bmItemList:{color:"#b8b7ad",height:"80vh"},bmItem:{display:"inline-block"},bmOverlay:{background:"rgba(0, 0, 0, 0.3)"}},w=function(e){function n(e){var t;return Object(s.a)(this,n),(t=Object(l.a)(this,Object(d.a)(n).call(this,e))).updateQuery=function(e){t.setState({query:e.target.value})},t.resetMarkerIcons=function(e,n){e.forEach(function(e){e.setIcon(n)})},t.updateWidth=t.updateWidth.bind(Object(p.a)(Object(p.a)(t))),t.state={isOpen:!0,query:""},t}return Object(u.a)(n,e),Object(c.a)(n,[{key:"componentDidMount",value:function(){this.updateWidth(),window.addEventListener("resize",this.updateWidth)}},{key:"updateWidth",value:function(){window.innerWidth>479?this.setState({isOpen:!0}):window.innerWidth<479&&this.setState({isOpen:!1})}},{key:"render",value:function(){var e=this,n=this.props,t=n.map,a=n.markers,o=n.mapMarkers,r=n.infowindow,s=n.defaultIcon,c=n.highlightedIcon,l=n.addMarkers,d=n.hideMarkers,u=n.populateInfoWindow,p=this.state.query,f=o.filter(function(e){return e.name.toUpperCase().includes(p.toUpperCase())}),w=a.filter(function(e){return e.name.toUpperCase().includes(p.toUpperCase())});return i.a.createElement(m.stack,{width:window.innerWidth>767?280:260,styles:h,isOpen:this.state.isOpen},i.a.createElement("form",{className:"bm-form",onSubmit:function(e){d(o),l(t,w,r),e.preventDefault()}},i.a.createElement("h1",{className:"bm-title",style:window.innerWidth>767?{fontSize:"1.1em"}:{fontSize:"1em"},"aria-labelledby":"title-description",tabIndex:"0"},"Neighborhood Map - React"),i.a.createElement("label",{id:"title-description",className:"aria-labels"},"Neighborhood Map Side Menu"),i.a.createElement("input",{className:"search-box","aria-label":"search",type:"text",value:p,placeholder:"Restaurant location",onChange:this.updateQuery,"aria-labelledby":"search-box"}),i.a.createElement("label",{id:"search-box",className:"aria-labels"},"Search and Filter from hardcoded list"),i.a.createElement("input",{className:"search-filter",type:"submit",value:"Filter"})),i.a.createElement("ul",{className:"bm-list"},f.map(function(n){return i.a.createElement("li",{className:"menu-item",key:n.name,tabIndex:"0",onClick:function(){e.setState({isOpen:!1}),u(n,r,t)},onMouseOver:function(){return n.setIcon(c)},onMouseOut:function(){n.setIcon(s)},onFocus:function(){e.resetMarkerIcons(o,s),n.setIcon(c)},onKeyPress:function(e){"Enter"===e.key&&u(n,r,t)}},n.name)})))}}]),n}(a.Component),g=[{name:"Mandolin Aegean Bistro",location:{address:"4312 NE 2nd Ave, Miami, FL 33137",lat:25.8159325,lng:-80.1915717},venueId:"4b3d581cf964a520ca9225e3",url:"http://www.mandolinmiami.com/"},{name:"Il Gabbiano",location:{address:"335 Biscayne Blvd, Miami, FL 33131",lat:25.7716312,lng:-80.1852171},venueId:"4b068e90f964a52019ed22e3",url:"http://www.ilgabbianomia.com/"},{name:"Zuma",location:{address:"270 Biscayne Blvd Way, Miami, FL 33131",lat:25.7705359,lng:-80.1896106},venueId:"4bf33b04cad2c928c2a29a99",url:"https://www.zumarestaurant.com/zuma-landing"},{name:"The Salty Donut",location:{address:"50 NW 23rd St #112, Miami, FL 33127",lat:25.7993841,lng:-80.1961911},venueId:"5661f303498e2a648440a4ec",url:"https://www.saltydonut.com/"},{name:"Fiorito",location:{address:"5555 NE 2nd Ave, Miami, FL 33137",lat:25.8270561,lng:-80.1918209},venueId:"50f84bcee4b0688fecfe6ced",url:"https://www.opentable.com/fiorito?ref=1068"},{name:"The River Oyster Bar",location:{address:"650 S Miami Ave, Miami, FL 33130",lat:25.7674937,lng:-80.1934655},venueId:"4c1f9d86b4e62d7fd8e8df93",url:"http://www.therivermiami.com/"},{name:"KYU",location:{address:"251 NW 25th St, Miami, FL 33127",lat:25.800891,lng:-80.200212},venueId:"56a93d4d498e2efdf0de09e5",url:"https://www.kyurestaurants.com/"},{name:"SUGARCANE raw bar grill",location:{address:"3252 NE 1st Ave, Miami, FL 33137",lat:25.8069065,lng:-80.1933217},venueId:"4bfea19aca1920a14c90eb81",url:"https://www.sugarcanerawbargrill.com/location/miami/"},{name:"Bombay Darbar",location:{address:"2901 Florida Ave, Miami, FL 33133",lat:25.7292075,lng:-80.240788},venueId:"4b623fa4f964a520843e2ae3",url:"http://www.bombaydarbar.com/"},{name:"La Petite Maison",location:{address:"1300 Brickell Bay Dr, Miami, FL 33131",lat:25.7604216,lng:-80.1903609},venueId:"58c1b79f424f9335299a54e4",url:"http://lpmlondon.co.uk/miami"},{name:"Vapiano",location:{address:"1221 Brickell Ave l120, Miami, FL 33131",lat:25.761244,lng:-80.191121},venueId:"503fe16de4b09c6ce3b3bf7d",url:"https://us.vapiano.com/en/magazine/"},{name:"Rusty Pelican",location:{address:"3201 Rickenbacker Causeway, Key Biscayne, FL 33149",lat:25.7478747,lng:-80.1756075},venueId:"4bb79e4a7421a593b1c2c040",url:"https://www.therustypelican.com/"}],b={GOOGLE_MAPS_API_KEY:"AIzaSyBgc5bIV3ZvAhq0Vrj2K36m2biYLJlat9I",FS_CLIENT_ID:"PVEMHUFY5EO0OAROSVF1LQHY4GVUWEYPL4H0VLU3R1IHQTBL",FS_CLIENT_SECRET:"A2PDDKAYS2NJCQA4Y4SXVYYSOMI0SNOBGFKMMAY2RYYR1JBA"},v=(t(37),function(e){function n(){var e,t;Object(s.a)(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(t=Object(l.a)(this,(e=Object(d.a)(n)).call.apply(e,[this].concat(i)))).state={map:{},center:{},infowindow:{},markers:[],mapMarkers:[],defaultIcon:{},highlightedIcon:{}},t.initMap=function(e){return new window.google.maps.Map(document.getElementById("map"),{center:e.location,zoom:13,styles:f})},t.hideMarkers=function(e){e.forEach(function(e){e.setMap(null)})},t.addMarkers=function(e,n,a){var i=t.makeMarkerIcon("ea4335,960a0a"),o=t.makeMarkerIcon("7289da,ffffff"),r=[];n.forEach(function(n){var s=Object(p.a)(Object(p.a)(t)),c=new window.google.maps.Marker({position:n.location,map:e,name:n.name,id:n.venueId,url:n.url,icon:i});r.push(c),c.addListener("click",function(){s.populateInfoWindow(c,a,e)}),c.addListener("mouseover",function(){this.setIcon(o)}),c.addListener("mouseout",function(){this.setIcon(i)})}),t.setState({mapMarkers:r,defaultIcon:i,highlightedIcon:o})},t.makeMarkerIcon=function(e){return{url:"https://www.google.com/maps/vt/icon/name=assets/icons/spotlight/spotlight_pin_v2_shadow-1-small.png,assets/icons/spotlight/spotlight_pin_v2-1-small.png,assets/icons/spotlight/spotlight_pin_v2_dot-1-small.png,assets/icons/spotlight/spotlight_pin_v2_accent-1-small.png&highlight=ff000000,"+"".concat(e,",ff000000&color=ff000000?scale=2"),origin:new window.google.maps.Point(0,0),anchor:new window.google.maps.Point(13,42),scaledSize:new window.google.maps.Size(26,44)}},t.fetchVenueInfo=function(e,n,a){fetch("https://api.foursquare.com/v2/venues/".concat(e.id)+"?client_id=".concat(b.FS_CLIENT_ID)+"&client_secret=".concat(b.FS_CLIENT_SECRET)+"&v=20181014").then(function(e){return e.json()}).then(function(i){t.setInfoWindowContent(e,n,a,i.response.venue)}).then(function(){var e=document.querySelector(".gm-style-iw");e.classList.add("infowindow"),e.parentElement.querySelector("div").className="infowindow-parent"})},t.setInfoWindowContent=function(e,n,a,i){var o=t.generateInfoWindowContents(i);n.marker=e,n.setContent(o),n.open(a,e),n.addListener("closeclick",function(){return n.marker=null})},t.generateInfoWindowContents=function(e){var n=e.name,t=e.bestPhoto,a=e.location,i=e.rating,o=e.contact,r=e.description,s=e.hours,c=e.canonicalUrl,l=e.url;return"\n            <div class='infowindow-inside-container'>\n                <div class='infowindow-details'>\n                    <div class='infowindow-name'>\n                        <a href=".concat(l," target='_blank'>").concat(n,"</a>\n                        <div class='infowindow-icon'>\n                            <img src='https://igx.4sqi.net/img/general/80x80").concat(t.suffix,"' \n                            alt='").concat(n," restaurant logo' />\n                        </div>\n                        <div class='infowindow-rating'>").concat(i,"/10</div>\n                    </div>\n                    <div class='hours'>").concat(s.status,"</div>\n                    <div class='infowindow-address-data'>\n                        <div class='infowindow-address'>\n                            ").concat(a.address,"\n                        </div>\n                        <div class='infowindow-phone'>\n                            ").concat(o.formattedPhone,"\n                        </div>\n                    </div>\n                    <div class='infowindow-description-container'>\n                        ").concat(void 0===r?"":"<p class='restaurant-description'>".concat(r,"</p>"),"\n                        <a class='restaurant-url' href=").concat(c," target='_blank'>Click here for more information</a>\n                    </div>\n                </div>\n            </div>\n        ")},t.populateInfoWindow=function(e,n,a){n.marker!==e&&t.fetchVenueInfo(e,n,a)},t.initSetup=function(){var e={title:"Miami",location:{lat:25.7677804,lng:-80.213187}},n=t.initMap(e),a=new window.google.maps.InfoWindow({maxWidth:200});t.addMarkers(n,g,a),t.setState({map:n,markers:g,center:e,infowindow:a})},t}return Object(u.a)(n,e),Object(c.a)(n,[{key:"componentDidMount",value:function(){window.initSetup=this.initSetup,function(e){var n=document.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onerror=function(){alert("Google Map API can not be loaded.")};var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(n,t)}("https://maps.googleapis.com/maps/api/js?key=AIzaSyBvM-jU8M1YuK6iAwA-Eh94FskaD-VHFis&v=3&callback=initSetup")}},{key:"render",value:function(){var e=this.state,n=e.map,t=e.markers,a=e.mapMarkers,o=e.infowindow,r=e.defaultIcon,s=e.highlightedIcon;return i.a.createElement("div",null,i.a.createElement(w,{map:n,infowindow:o,markers:t,mapMarkers:a,defaultIcon:r,highlightedIcon:s,addMarkers:this.addMarkers,hideMarkers:this.hideMarkers,populateInfoWindow:this.populateInfoWindow}),i.a.createElement("div",{id:"map",className:"map",role:"application",tabIndex:"-1","aria-labelledby":"aria-map-description","aria-hidden":"true"}),i.a.createElement("label",{id:"aria-map-description",className:"aria-labels"},"map user interface"))}}]),n}(a.Component));t(39);var y=function(e){function n(){return Object(s.a)(this,n),Object(l.a)(this,Object(d.a)(n).apply(this,arguments))}return Object(u.a)(n,e),Object(c.a)(n,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(v,null))}}]),n}(a.Component),k=(t(41),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)));function I(e,n){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available; please refresh."),n.onUpdate&&n.onUpdate(e)):(console.log("Content is cached for offline use."),n.onSuccess&&n.onSuccess(e)))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}r.a.render(i.a.createElement(y,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/Neighborhood-map-react",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var n="".concat("/Neighborhood-map-react","/service-worker.js");k?(function(e,n){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):I(e,n)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(n,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):I(n,e)})}}()}},[[13,2,1]]]);
//# sourceMappingURL=main.340687cb.chunk.js.map